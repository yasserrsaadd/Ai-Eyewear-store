<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Virtual try on</title>

    <!-- bootstrap call -->
    <link href="/css2/bootstrap.min.css" rel="stylesheet" />
    <script src="/js2/bootstrap.bundle.js"></script>

    <!-- bootstrap call -->
    <!-- font awesome  -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/virtualTryOn.css" />
  </head>
  <body>
    <!-- Navigation bar (1) -->
    <nav
      class="navbar navbar-expand-lg navbar-dark"
      style="background-color: #1d5c63"
      ;
    >
      <div class="container-fluid">
        <a style="color: #e4e4d0" class="navbar-brand" href="#">
          <i class="fa-solid fa-glasses fa-lg" style="color: #e4e4d0"></i>
          Iglass</a
        >
        <div id="line"></div>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarScroll"
          aria-controls="navbarScroll"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarScroll">
          <ul
            class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll"
            style="--bs-scroll-height: 100px"
          >
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="home.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="aboutUs.html">About us</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="contactUs.html">Contact Us</a>
            </li>
            &nbsp;&nbsp;&nbsp;
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarScrollingDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                More
              </a>
              <ul
                class="dropdown-menu"
                aria-labelledby="navbarScrollingDropdown"
              >
                <li>
                  <a class="dropdown-item" href="/logOut.html">Log out</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Navigation bar (1) -->

    <!-- Navigation bar (2) -->
    <div class="header style list">
      <nav class="navbar navbar-expand-lg second-nav">
        <div class="container-fluid">
          <a class="navbar-brand" href="#"> </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="home.html"
                  >Explore Eyewear</a
                >
              </li>

              <li class="nav-item">
                <a class="nav-link" href="virtualTryOn.html"
                  ><b> virtual-try-on</b>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
    <!-- Navigation bar (2) -->

    <!-- ************************section 1 **************************-->
    <div class="start">
      <img src="./images/virtual1.png" alt="11" />
      <h1>virtual-try-on</h1>
      <p>
        you can seamlessly try on your favorite pairs of designer sunglasses and
        eyeglasses in few simple steps the comfort of your home.feel free to
        experiment with as many styles as you like using our virtual glasses
        tool!
      </p>
      <div class="work">
        <img src="./images/VIRTUAL-WORK.png" alt="how work" />
      </div>

      <!--------------------------- end section 1 ---------------------------------->
      <!--------------------------- start section 2 ---------------------------------->

      <div class="upload-container d-flex">
        <img src="./images/gender1.png" alt="" />

        <span>
          <label for="file-upload" class="upload-btn">Choose Photo</label>
          <input id="file-upload" class="file-input" type="file" />
          <div class="file-label" id="file-label">No file chosen</div>
        </span>
      </div>
    </div>
    <!--      OPEN CAMERA      -->
    <div class="open">
      <img
        src="https://static.zennioptical.com/marketing/landingpage/landing-ditto/rashida/vtolp_findsquare_gif-xs.gif?quality=meduim"
        jsaction="VQAsE"
        class="sFlh5c pT0Scc iPVvYb"
        alt="Virtual Try-on: Find Your Perfect Glasses | Zenni Optical"
        jsname="kn3ccd"
      />
      <div id="camera-viewfinder">
        <video id="video-element" autoplay></video>
      </div>
      <div class="btn-container">
        <button id="open-camera" class="btn">Open Camera</button>
        <button id="take-photo" class="btn" style="display: none">
          Take Photo
        </button>
        <button id="save-photo" class="btn" style="display: none">
          Save Photo
        </button>
        <button id="close-camera" class="btn" style="display: none">
          Close Camera
        </button>
      </div>
    </div>
    <!---- ********************************  end   ************************************************* -->
    <!--$$$$$$$ footer $$$$$-->

    <footer class="bg-dark text-light py-3">
      <div class="container">
        <div class="row">
          <div class="col-md-15 footer">
            <p class="copyrights">&copy; 2023 Iglass. All rights reserved.</p>

            <div class="social-icons">
              <a class="social-icon social-icon--instagram">
                <i class="fa-brands fa-instagram"></i>
                <div class="tooltip">Instagram</div>
              </a>
              <a class="social-icon social-icon--linkedin">
                <i class="fa-brands fa-linkedin"></i>
                <div class="tooltip">LinkedIn</div>
              </a>
              <a class="social-icon social-icon--facebook">
                <i class="fa-brands fa-facebook"></i>
                <div class="tooltip">Facebook</div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script>
      let videoStream;
      let mediaRecorder;
      let chunks = [];

      document
        .getElementById("open-camera")
        .addEventListener("click", function () {
          navigator.mediaDevices
            .getUserMedia({ video: true })
            .then(function (stream) {
              videoStream = stream;
              document.getElementById("video-element").srcObject = videoStream;
              document.getElementById("open-camera").style.display = "none";
              document.getElementById("take-photo").style.display =
                "inline-block";
              document.getElementById("close-camera").style.display =
                "inline-block";
            })
            .catch(function (error) {
              console.log("Error accessing camera:", error);
            });
        });

      document
        .getElementById("take-photo")
        .addEventListener("click", function () {
          let videoElement = document.getElementById("video-element");
          let canvas = document.createElement("canvas");
          canvas.width = videoElement.videoWidth;
          canvas.height = videoElement.videoHeight;
          let ctx = canvas.getContext("2d");
          ctx.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
          let photoURL = canvas.toDataURL("image/jpeg");
          let link = document.createElement("a");
          link.href = photoURL;
          link.download = "photo.jpg";
          link.click();
        });

      document
        .getElementById("close-camera")
        .addEventListener("click", function () {
          if (videoStream) {
            videoStream.getTracks().forEach((track) => track.stop());
            document.getElementById("video-element").srcObject = null;
            document.getElementById("open-camera").style.display =
              "inline-block";
            document.getElementById("take-photo").style.display = "none";
            document.getElementById("save-photo").style.display = "none";
            document.getElementById("close-camera").style.display = "none";
          }
        });
    </script>
    <script>
      navigator.mediaDevices
        .getUserMedia({ video: true })
        .then(function (stream) {
          var videoElement = document.querySelector("video");
          videoElement.srcObject = stream;
        })
        .catch(function (error) {
          console.log("Error accessing camera:", error);
        });
    </script>
    <script src="./js/script.js"></script>
    <script src="./js2/bootstrap.bundle.min.js"></script>
  </body>
</html>
